<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <title>Standard Feed Redirector</title>
</head>
<body>
<script>
Components.utils.import("resource://ubiquity/modules/setup.js");

var isRedirecting = false;

function maybeRedirect() {
  if (!isRedirecting && window.location.hash) {
    var relPath = window.location.hash.slice(1);
    window.location = UbiquitySetup.standardFeedsUri + relPath;
    isRedirecting = true;
  }
}

maybeRedirect();
window.setInterval(maybeRedirect, 100);
</script>
<p>This page is a simple redirector that can be used to take the
user from a Ubiquity chrome: URI to a URI for a standard feed.</p>
<p>To use it, just set the URI's hash to the relative path of the
standard feed URI to redirect the user to. The path should be relative
to the root of the Ubiquity extension's <tt>standard-feeds</tt>
directory. For instance:</p>
<blockquote><a href="chrome://ubiquity/content/feed.html#map.html">
chrome://ubiquity/content/feed.html#map.html</a></blockquote>
</body>
</html>
